<section>
    <div class="container w-75 mx-auto shadow rounded p-4 my-5 bg-main-light">
        <h1 class="text-center mt-3 fw-bold">Register Now</h1>
        <form [formGroup]="registerForm" (ngSubmit)="handleForm()" class="my-3">

            <div class="w-50 mx-auto text-center" *ngIf="errMessage">
                <p class="alert alert-danger p-1 mb-0">{{errMessage}}</p>
            </div>

            <div class="form-item">
                <label for="name">Name</label>
                <input [class.is-invalid]="registerForm.get('name')?.errors && registerForm.get('name')?.touched"
                    [class.is-valid]="registerForm.get('name')?.errors==null" formControlName="name" type="text"
                    class="form-control" id="name">
                <div *ngIf="registerForm.get('name')?.errors && registerForm.get('name')?.touched"
                    class="alert alert-danger p-1 small w-50 text-center mx-auto">
                    <p class="mb-0" *ngIf="registerForm.get('name')?.getError('required')"> Name Is Required</p>
                    <p class="mb-0" *ngIf="registerForm.get('name')?.getError('minlength')">Name Min Length 3</p>
                    <p class="mb-0" *ngIf="registerForm.get('name')?.getError('maxlength')">Name Max Length 20</p>
                </div>
            </div>

            <div class="form-item mt-2">
                <label for="email">Email</label>
                <input [class.is-invalid]="registerForm.get('email')?.errors && registerForm.get('email')?.touched"
                    [class.is-valid]="registerForm.get('email')?.errors==null" formControlName="email" type="email"
                    class="form-control" id="email">
                <div *ngIf="registerForm.get('email')?.errors && registerForm.get('email')?.touched"
                    class="alert alert-danger p-1 small w-50 text-center mx-auto">
                    <p class="mb-0" *ngIf="registerForm.get('email')?.getError('required')"> email Is Required</p>
                    <p class="mb-0" *ngIf="registerForm.get('email')?.getError('email')">Email Invalid Format</p>

                </div>
            </div>

            <div class="form-item  mt-2">
                <label for="password">Password</label>
                <input
                    [class.is-invalid]="registerForm.get('password')?.errors && registerForm.get('password')?.touched"
                    [class.is-valid]="registerForm.get('password')?.errors==null" formControlName="password"
                    type="password" class="form-control" id="password">
                <div *ngIf="registerForm.get('password')?.errors && registerForm.get('password')?.touched"
                    class="alert alert-danger p-1 small w-50 text-center mx-auto">
                    <p class="mb-0" *ngIf="registerForm.get('password')?.getError('required')"> password Is Required</p>
                    <p class="mb-0" *ngIf="registerForm.get('password')?.getError('pattern')">Must be at least 6 chars
                    </p>
                </div>
            </div>

            <div class="form-item  mt-2">
                <label for="rePassword">RePassword</label>
                <input
                    [class.is-invalid]="registerForm.get('rePassword')?.errors && registerForm.get('rePassword')?.touched"
                    [class.is-valid]="registerForm.get('rePassword')?.errors==null" formControlName="rePassword"
                    type="password" class="form-control" id="rePassword">
                <div *ngIf="registerForm.get('rePassword')?.errors && registerForm.get('rePassword')?.touched"
                    class="alert alert-danger p-1 small w-50 text-center mx-auto">
                    <p class="mb-0" *ngIf="registerForm.get('rePassword')?.getError('required')"> rePassword Is Required
                    </p>
                    <p class="mb-0" *ngIf="registerForm.get('rePassword')?.getError('mismatch')">Password confirmation
                        is
                        incorrect
                    </p>
                </div>
            </div>

            <div class="form-item  mt-2">
                <label for="phone">Phone</label>
                <input [class.is-invalid]="registerForm.get('phone')?.errors && registerForm.get('phone')?.touched"
                    [class.is-valid]="registerForm.get('phone')?.errors==null" formControlName="phone" type="tel"
                    class="form-control" id="phone">
                <div *ngIf="registerForm.get('phone')?.errors && registerForm.get('phone')?.touched"
                    class="alert alert-danger p-1 small w-50 text-center mx-auto">
                    <p class="mb-0" *ngIf="registerForm.get('phone')?.getError('required')"> phone Is Required</p>
                    <p class="mb-0" *ngIf="registerForm.get('phone')?.getError('pattern')">"Accept only egypt phone
                        numbers"
                    </p>
                </div>
            </div>

            <button [disabled]="registerForm.invalid" class="main-btn my-3">Register <span *ngIf="isLoading"> <i
                        class="fas fa-spin fa-spinner text-warning"></i></span></button>

        </form>
    </div>
</section>