<section class="paddin" *ngIf="products.length>0">
    <div class="container my-5 p-3">
        <h2 class="text-main mb-4">Products</h2>
        <div class="row g-4">
            <div *ngFor="let product of products  | paginate: { id: 'productPaginate',
            itemsPerPage: pageSize,
            currentPage: currentPage,
            totalItems: total } " class="col-sm-6 col-md-4 col-lg-3  h-100">
                <div class="bg-light rounded border p-3 text-center product">
                    <i (click)="addProductToWishList(product._id,btAdd)" #btAdd role="button"
                        class=" icons fa-solid fa-heart my-3 pb-2 text-main fa-xl"></i>
                    <div [routerLink]="['/detalis',product._id]" role="button">
                        <div class="semo">
                            <img class="w-100" height="270" [src]="product.imageCover" [alt]="product.title">
                        </div>
                        <p class="text-main">{{product.category.name}}</p>
                        <h4>{{product.title|cuttext:2}}</h4>
                    </div>
                    <div>
                        <div class="d-flex justify-content-between text-muted my-4 w-75 m-auto">
                            <span class="fw-bold">{{product.price}}EGP</span>
                            <SPan class="fw-bold">
                                <i [class.rating-color]="product.ratingsAverage >=num" *ngFor="let num of [1,2,3,4,5]"
                                    class="fa-solid fa-star "></i>{{product.ratingsAverage}}</SPan>
                        </div>
                    </div>
                    <button (click)="AddProduct(product._id,btnAdd)" #btnAdd
                        class="btn bg-main w-75 m-auto text-light product">+Add
                        Cart</button>
                </div>

            </div>
        </div>
    </div>

    <div class="d-flex justify-content-center align-items-center mb-4">
        <pagination-controls id="productPaginate" (pageChange)="pageChanged($event)"
            (pageBoundsCorrection)="pageChanged($event)" [maxSize]="9" [directionLinks]="true" [autoHide]="true"
            [responsive]="true" previousLabel="Previous" nextLabel="Next" screenReaderPaginationLabel="Pagination"
            screenReaderPageLabel="page" screenReaderCurrentLabel="You're on page">
        </pagination-controls>
    </div>

</section>