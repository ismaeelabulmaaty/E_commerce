"use strict";(self.webpackChunkFreshCard=self.webpackChunkFreshCard||[]).push([[560],{6560:(S,Z,a)=>{a.r(Z),a.d(Z,{RegisterComponent:()=>K});var h=a(6814),o=a(95),e=a(4769),q=a(5342),A=a(1120);function C(t,i){if(1&t&&(e.TgZ(0,"div",19)(1,"p",20),e._uU(2),e.qZA()()),2&t){const l=e.oxw();e.xp6(2),e.Oqu(l.errMessage)}}function R(t,i){1&t&&(e.TgZ(0,"p",23),e._uU(1," Name Is Required"),e.qZA())}function N(t,i){1&t&&(e.TgZ(0,"p",23),e._uU(1,"Name Min Length 3"),e.qZA())}function U(t,i){1&t&&(e.TgZ(0,"p",23),e._uU(1,"Name Max Length 20"),e.qZA())}function E(t,i){if(1&t&&(e.TgZ(0,"div",21),e.YNc(1,R,2,0,"p",22),e.YNc(2,N,2,0,"p",22),e.YNc(3,U,2,0,"p",22),e.qZA()),2&t){const l=e.oxw();let n,r,s;e.xp6(1),e.Q6J("ngIf",null==(n=l.registerForm.get("name"))?null:n.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=l.registerForm.get("name"))?null:r.getError("minlength")),e.xp6(1),e.Q6J("ngIf",null==(s=l.registerForm.get("name"))?null:s.getError("maxlength"))}}function P(t,i){1&t&&(e.TgZ(0,"p",23),e._uU(1," email Is Required"),e.qZA())}function J(t,i){1&t&&(e.TgZ(0,"p",23),e._uU(1,"Email Invalid Format"),e.qZA())}function Y(t,i){if(1&t&&(e.TgZ(0,"div",21),e.YNc(1,P,2,0,"p",22),e.YNc(2,J,2,0,"p",22),e.qZA()),2&t){const l=e.oxw();let n,r;e.xp6(1),e.Q6J("ngIf",null==(n=l.registerForm.get("email"))?null:n.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=l.registerForm.get("email"))?null:r.getError("email"))}}function Q(t,i){1&t&&(e.TgZ(0,"p",23),e._uU(1," password Is Required"),e.qZA())}function b(t,i){1&t&&(e.TgZ(0,"p",23),e._uU(1,"Must be at least 6 chars "),e.qZA())}function M(t,i){if(1&t&&(e.TgZ(0,"div",21),e.YNc(1,Q,2,0,"p",22),e.YNc(2,b,2,0,"p",22),e.qZA()),2&t){const l=e.oxw();let n,r;e.xp6(1),e.Q6J("ngIf",null==(n=l.registerForm.get("password"))?null:n.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=l.registerForm.get("password"))?null:r.getError("pattern"))}}function L(t,i){1&t&&(e.TgZ(0,"p",23),e._uU(1," rePassword Is Required "),e.qZA())}function k(t,i){1&t&&(e.TgZ(0,"p",23),e._uU(1,"Password confirmation is incorrect "),e.qZA())}function y(t,i){if(1&t&&(e.TgZ(0,"div",21),e.YNc(1,L,2,0,"p",22),e.YNc(2,k,2,0,"p",22),e.qZA()),2&t){const l=e.oxw();let n,r;e.xp6(1),e.Q6J("ngIf",null==(n=l.registerForm.get("rePassword"))?null:n.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=l.registerForm.get("rePassword"))?null:r.getError("mismatch"))}}function D(t,i){1&t&&(e.TgZ(0,"p",23),e._uU(1," phone Is Required"),e.qZA())}function O(t,i){1&t&&(e.TgZ(0,"p",23),e._uU(1,'"Accept only egypt phone numbers" '),e.qZA())}function j(t,i){if(1&t&&(e.TgZ(0,"div",21),e.YNc(1,D,2,0,"p",22),e.YNc(2,O,2,0,"p",22),e.qZA()),2&t){const l=e.oxw();let n,r;e.xp6(1),e.Q6J("ngIf",null==(n=l.registerForm.get("phone"))?null:n.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=l.registerForm.get("phone"))?null:r.getError("pattern"))}}function B(t,i){1&t&&(e.TgZ(0,"span"),e._UZ(1,"i",24),e.qZA())}let K=(()=>{class t{constructor(l,n){this._authService=l,this._Router=n,this.errMessage="",this.isLoading=!1,this.registerForm=new o.cw({name:new o.NI("",[o.kI.required,o.kI.minLength(3),o.kI.maxLength(20)]),email:new o.NI("",[o.kI.required,o.kI.email]),password:new o.NI("",[o.kI.required,o.kI.pattern("^[a-zA-Z0-9_@]{3,8}$")]),rePassword:new o.NI(""),phone:new o.NI("",[o.kI.required,o.kI.pattern("^01[0125][0-9]{8}$")])},{validators:[this.confirmPassword]})}confirmPassword(l){const n=l.get("password"),r=l.get("rePassword");""==r?.value?r?.setErrors({required:!0}):n?.value!=r?.value&&r?.setErrors({mismatch:!0})}handleForm(){let l=this.registerForm.value;this.isLoading=!0,!0===this.registerForm.valid&&this._authService.register(l).subscribe({next:n=>{"success"==n.message&&(this._Router.navigate(["/login"]),this.isLoading=!1)},error:n=>{this.errMessage=n.error.message,this.isLoading=!1}})}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(q.e),e.Y36(A.F0))};static#r=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],standalone:!0,features:[e.jDz],decls:34,vars:29,consts:[[1,"container","w-75","mx-auto","shadow","rounded","p-4","my-5","bg-main-light"],[1,"text-center","mt-3","fw-bold"],[1,"my-3",3,"formGroup","ngSubmit"],["class","w-50 mx-auto text-center",4,"ngIf"],[1,"form-item"],["for","name"],["formControlName","name","type","text","id","name",1,"form-control"],["class","alert alert-danger p-1 small w-50 text-center mx-auto",4,"ngIf"],[1,"form-item","mt-2"],["for","email"],["formControlName","email","type","email","id","email",1,"form-control"],["for","password"],["formControlName","password","type","password","id","password",1,"form-control"],["for","rePassword"],["formControlName","rePassword","type","password","id","rePassword",1,"form-control"],["for","phone"],["formControlName","phone","type","tel","id","phone",1,"form-control"],[1,"main-btn","my-3",3,"disabled"],[4,"ngIf"],[1,"w-50","mx-auto","text-center"],[1,"alert","alert-danger","p-1","mb-0"],[1,"alert","alert-danger","p-1","small","w-50","text-center","mx-auto"],["class","mb-0",4,"ngIf"],[1,"mb-0"],[1,"fas","fa-spin","fa-spinner","text-warning"]],template:function(n,r){if(1&n&&(e.TgZ(0,"section")(1,"div",0)(2,"h1",1),e._uU(3,"Register Now"),e.qZA(),e.TgZ(4,"form",2),e.NdJ("ngSubmit",function(){return r.handleForm()}),e.YNc(5,C,3,1,"div",3),e.TgZ(6,"div",4)(7,"label",5),e._uU(8,"Name"),e.qZA(),e._UZ(9,"input",6),e.YNc(10,E,4,3,"div",7),e.qZA(),e.TgZ(11,"div",8)(12,"label",9),e._uU(13,"Email"),e.qZA(),e._UZ(14,"input",10),e.YNc(15,Y,3,2,"div",7),e.qZA(),e.TgZ(16,"div",8)(17,"label",11),e._uU(18,"Password"),e.qZA(),e._UZ(19,"input",12),e.YNc(20,M,3,2,"div",7),e.qZA(),e.TgZ(21,"div",8)(22,"label",13),e._uU(23,"RePassword"),e.qZA(),e._UZ(24,"input",14),e.YNc(25,y,3,2,"div",7),e.qZA(),e.TgZ(26,"div",8)(27,"label",15),e._uU(28,"Phone"),e.qZA(),e._UZ(29,"input",16),e.YNc(30,j,3,2,"div",7),e.qZA(),e.TgZ(31,"button",17),e._uU(32,"Register "),e.YNc(33,B,2,0,"span",18),e.qZA()()()()),2&n){let s,w,m,g,T,u,_,F,p,d,I,f,c,x,v;e.xp6(4),e.Q6J("formGroup",r.registerForm),e.xp6(1),e.Q6J("ngIf",r.errMessage),e.xp6(4),e.ekj("is-invalid",(null==(s=r.registerForm.get("name"))?null:s.errors)&&(null==(s=r.registerForm.get("name"))?null:s.touched))("is-valid",null==(null==(w=r.registerForm.get("name"))?null:w.errors)),e.xp6(1),e.Q6J("ngIf",(null==(m=r.registerForm.get("name"))?null:m.errors)&&(null==(m=r.registerForm.get("name"))?null:m.touched)),e.xp6(4),e.ekj("is-invalid",(null==(g=r.registerForm.get("email"))?null:g.errors)&&(null==(g=r.registerForm.get("email"))?null:g.touched))("is-valid",null==(null==(T=r.registerForm.get("email"))?null:T.errors)),e.xp6(1),e.Q6J("ngIf",(null==(u=r.registerForm.get("email"))?null:u.errors)&&(null==(u=r.registerForm.get("email"))?null:u.touched)),e.xp6(4),e.ekj("is-invalid",(null==(_=r.registerForm.get("password"))?null:_.errors)&&(null==(_=r.registerForm.get("password"))?null:_.touched))("is-valid",null==(null==(F=r.registerForm.get("password"))?null:F.errors)),e.xp6(1),e.Q6J("ngIf",(null==(p=r.registerForm.get("password"))?null:p.errors)&&(null==(p=r.registerForm.get("password"))?null:p.touched)),e.xp6(4),e.ekj("is-invalid",(null==(d=r.registerForm.get("rePassword"))?null:d.errors)&&(null==(d=r.registerForm.get("rePassword"))?null:d.touched))("is-valid",null==(null==(I=r.registerForm.get("rePassword"))?null:I.errors)),e.xp6(1),e.Q6J("ngIf",(null==(f=r.registerForm.get("rePassword"))?null:f.errors)&&(null==(f=r.registerForm.get("rePassword"))?null:f.touched)),e.xp6(4),e.ekj("is-invalid",(null==(c=r.registerForm.get("phone"))?null:c.errors)&&(null==(c=r.registerForm.get("phone"))?null:c.touched))("is-valid",null==(null==(x=r.registerForm.get("phone"))?null:x.errors)),e.xp6(1),e.Q6J("ngIf",(null==(v=r.registerForm.get("phone"))?null:v.errors)&&(null==(v=r.registerForm.get("phone"))?null:v.touched)),e.xp6(1),e.Q6J("disabled",r.registerForm.invalid),e.xp6(2),e.Q6J("ngIf",r.isLoading)}},dependencies:[h.ez,h.O5,o.UX,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u]})}return t})()}}]);